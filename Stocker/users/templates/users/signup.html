{% extends 'main/base.html' %}

{% block title %} Create Profile {% endblock %}

{% block content %}
<!-- Add Bootstrap Icons CDN -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

<div class="container d-flex flex-column justify-content-center align-items-center mt-5">

    <h2>Create Your Profile</h2>
    <form class="d-flex flex-column gap-3 w-50" action="{% url 'users:sign_up' %}" method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        
        <div class="input-group">
            <span class="input-group-text"><i class="bi bi-envelope-fill"></i></span>
            <div class="form-floating flex-grow-1">
                <input type="email" class="form-control" id="floatingEmail" placeholder="name@example.com" name="email" value="{{ user.email }}" required>
                <label for="floatingEmail">Email address</label>
            </div>
        </div>

        <div class="input-group">
            <span class="input-group-text"><i class="bi bi-lock-fill"></i></span>
            <div class="form-floating flex-grow-1">
                <input type="password" class="form-control" id="floatingPassword" placeholder="Password" name="password" required>
                <label for="floatingPassword">Password</label>
            </div>
        </div>

        <div class="input-group">
            <span class="input-group-text"><i class="bi bi-person-fill"></i></span>
            <div class="form-floating flex-grow-1">
                <input type="text" class="form-control" id="floatingFirstName" placeholder="First name" name="first_name" value="{{ user.first_name }}" required>
                <label for="floatingFirstName">First name</label>
            </div>
        </div>

        <div class="input-group">
            <span class="input-group-text"><i class="bi bi-person-lines-fill"></i></span>
            <div class="form-floating flex-grow-1">
                <input type="text" class="form-control" id="floatingLastName" placeholder="Last name" name="last_name" value="{{ user.last_name }}" required>
                <label for="floatingLastName">Last name</label>
            </div>
        </div>

        <div class="input-group">
            <span class="input-group-text"><i class="bi bi-at"></i></span>
            <div class="form-floating flex-grow-1">
                <input type="text" class="form-control" id="floatingUsername" placeholder="Username" name="username" required>
                <label for="floatingUsername">Username</label>
            </div>
        </div>

        <div class="input-group">
            <span class="input-group-text"><i class="bi bi-card-text"></i></span>
            <textarea class="form-control" placeholder="About" name="about">{{ user.profile.about }}</textarea>
        </div>

        <div class="input-group">
            <span class="input-group-text"><i class="bi bi-telephone-fill"></i></span>
            <div class="form-floating flex-grow-1">
                <input type="text" class="form-control" id="floatingPhone" placeholder="Phone number" name="phone" value="{{ user.profile.phone }}">
                <label for="floatingPhone">Phone</label>
            </div>
        </div>

        <h5><i class="bi bi-image-fill me-2"></i>Choose Avatar:</h5>
        {% if user.profile.avatar %}
            <img src="{{ user.profile.avatar.url }}" class="avatar rounded-4 mb-3" />
        {% endif %}
        <input type="file" name="avatar" accept="image/*" class="form-control" />

        <button class="btn btn-primary w-100 py-2" type="submit">
            <i class="bi bi-save2-fill me-1"></i> Save Profile
        </button>
    </form>
</div>

{% endblock %}
